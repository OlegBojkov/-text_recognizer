# OCR с использованием shiftlab_ocr и визуализация результатов

Этот проект демонстрирует процесс извлечения текста с изображений с использованием библиотеки `shiftlab_ocr`, а также визуализацию отдельных фрагментов изображения.

## Установка

1. Клонируйте репозиторий `shiftlab_ocr`:

  ```bash
  git clone https://github.com/conwerner/shiftlab_ocr.git
  ```
   
2. Установите необходимые зависимости:

  ```bash
  pip install -r shiftlab_ocr/requirements.txt
  ```

## Загрузка изображения

Чтобы загрузить изображение с Google Drive, выполните следующий код:
  ```bash
  import gdown
  
  file_id = '1OSYKZ_b0Qz9bmPjHEJCoz9N74pp4IK2e'
  
  download_url = f"https://drive.google.com/uc?export=download&id={file_id}"
  output_file = '/content/test.jpg'
  gdown.download(download_url, output_file, quiet=False)
  ```

## Открытие и отображение изображения
После загрузки откройте изображение с помощью библиотеки Pillow:
  ```bash
  from PIL import Image
  
  img = Image.open('/content/test.jpg')
  img.show()
  ```

## Извлечение текста с изображения
Для извлечения текста с изображения используйте библиотеку shiftlab_ocr:
  ```bash
  from shiftlab_ocr.doc2text import Reader
  
  reader = Reader()
  result = reader.doc2text("/content/test.jpg")
  ```

## Визуализация фрагментов изображения
Вы можете визуализировать обработанные фрагменты изображения с помощью matplotlib. В следующем примере отображается сетка из 48 фрагментов:
  ```bash
  import matplotlib.pyplot as plt
  %matplotlib inline
  
  images = result[1]
  N = 48  # количество отображаемых фрагментов
  n = int(N**(0.5))
  k = 0
  f, axarr = plt.subplots(n, n, figsize=(10, 10))
  for i in range(n):
      for j in range(n):
          axarr[i, j].imshow(images[k].img)
          k += 1
  f.show()
  ```
Вы можете изменять параметры, такие как N (количество отображаемых фрагментов), для настройки визуализации в соответствии с вашими потребностями.

## Заключение
Этот проект предоставляет простой способ извлечения текста с изображений и визуализации результатов. Используйте данный код как основу для создания собственных приложений по распознаванию текста и анализа изображений.


# Программа для преобразования изображения в матрицу пикселей и ее визуализации

Эта программа предназначена для преобразования изображения в матрицу пикселей с использованием библиотеки OpenCV и визуализации полученной матрицы с помощью Matplotlib.

## Функции программы

1. **Преобразование изображения в матрицу пикселей**:
   - Загружает изображение в градациях серого.
   - Изменяет размер изображения до 128x128 пикселей.
   - Выполняет бинаризацию изображения, преобразуя его в черно-белое.
   - Преобразует изображение в матрицу пикселей (0 для белого, 255 для черного).

2. **Визуализация матрицы пикселей**:
   - Отображает матрицу пикселей в виде изображения.

## Установка

Для использования программы необходимо установить библиотеки OpenCV и Matplotlib:

```bash
pip install opencv-python-headless matplotlib
```
## Использование
1. Убедитесь, что у вас есть изображение для преобразования, и укажите его путь в переменной image_path.
2. Запустите программу, которая выполнит следующие действия:
  + Преобразует изображение в матрицу пикселей.
  + Выведет матрицу пикселей в консоль.
  + Визуализирует матрицу в виде изображения.

## Заключение
Эта программа предоставляет простой способ преобразования изображения в матрицу пикселей и его последующей визуализации.
